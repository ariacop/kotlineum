{"version":3,"file":"index.js","sources":["../src/useSharedFlow.ts","../src/GlobalSharedFlow.ts","../src/GlobalStateFlow.ts","../src/useStateFlow.ts"],"sourcesContent":[null,null,null,null],"names":["useSharedFlow","subscribersRef","useRef","Map","sharedFlow","subscribe","uniqueId","callback","current","set","unsubscribe","delete","emit","value","forEach","getSubscriberCount","size","result","concat","Math","random","Object","assign","SharedFlowRegistry","this","flows","getInstance","instance","prototype","getOrCreate","key","has","subscribers_1","sharedFlow_1","get","GlobalSharedFlow","StateFlowRegistry","initialValue","currentValue_1","stateFlow_1","getValue","update","newValue","GlobalStateFlow","currentValue","stateFlow","initialCallback","flow","useEffect","initialState","_a","useState","latestValue","setLatestValue","setValue","state","setState"],"mappings":"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"}