{"version":3,"file":"index.esm.js","sources":["../src/useSharedFlow.ts","../src/useStateFlow.ts","../src/GlobalSharedFlow.ts","../src/GlobalStateFlow.ts"],"sourcesContent":[null,null,null,null],"names":["SharedFlow","subscribersRef","current","Map","sharedFlow","subscribe","uniqueId","callback","set","unsubscribe","delete","emit","value","forEach","getSubscriberCount","size","useSharedFlow","useRef","result","concat","Math","random","Object","assign","useSharedFlowWithState","initialState","_a","useState","latestValue","setLatestValue","flow","StateFlow","initialValue","currentValue","stateFlow","getValue","update","newValue","useStateFlow","state","setState","SharedFlowRegistry","this","flows","getInstance","instance","prototype","getOrCreate","key","has","subscribers_1","sharedFlow_1","get","GlobalSharedFlow","useGlobalSharedFlow","initialCallback","useEffect","useGlobalSharedFlowWithState","StateFlowRegistry","currentValue_1","stateFlow_1","GlobalStateFlow","useGlobalStateFlow","setValue"],"mappings":"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"}